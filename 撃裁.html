<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <title>撃裁</title>

    <style>
        @font-face {
            font-family: "linzklar_rounded";
            src: url("https://yasusho.github.io/linmarn_font_project/fonts/linzklar_rounded.woff") format('woff');
        }

        body,
        button {
            font-family: "linzklar_rounded";
        }

        .button {
            display: inline-block;
            padding: 0.3em 1em;
            text-decoration: none;
            font-weight: bold;
            color: #005242;
            border: solid 1px #005242;
            border-radius: 3px;
            transition: .4s;
        }

        .button:hover {
            background: #005242;
            color: white;
        }
    </style>

    <script>
        const data = [];
        const scoreboard = [];

        function reset() {
            data.length = 0;
            document.getElementById("result").innerHTML = '0';
            document.getElementById("history").innerHTML = '';
            document.getElementById("score").innerHTML = '';
            document.getElementById("highscore").innerHTML = '';
        }

        function getDice() {
            const dice1 = Math.floor(Math.random() * 2);
            const dice2 = Math.floor(Math.random() * 2);
            const dice3 = Math.floor(Math.random() * 2);
            const dice4 = Math.floor(Math.random() * 2);
            const dice5 = Math.floor(Math.random() * 2);
            const result = dice1 + dice2 + dice3 + dice4 + dice5

            data.push(result);
            const score = data.reduce((sum, num) => sum + num, 0);

            document.getElementById("result").innerHTML = result;
            document.getElementById("history").innerHTML = data;
            document.getElementById("score").innerHTML = score;

            if (result < 2 && document.getElementById("checkbox").checked) {

                scoreboard.push(score)
                document.getElementById("lastscore").innerHTML = scoreboard[scoreboard.length - 1];
                const highscore = Math.max(...scoreboard)
                document.getElementById("highscore").innerHTML = highscore;
                reset()

            }
        }

    </script>
</head>

<body>
    <h1 class="linzklar_rounded">裁</h1>
    <a href="#" class="button" onclick="getDice();">撃裁</a>
    <a href="#" class="button" onclick="reset();">新裁<a>
            <input type="checkbox" id="checkbox" onchange="scoreboard()">二無即新
            <br>
            <p>　<font size="13"><b><span id="result">0</span></b></font>
            </p>
            <p><b>値積　</b><span id="score"></span></p>
            <p><b>上時　</b><span id="history"></span></p>
            <font color="#d43700">
                <p><b>全新値積　<span id="lastscore"></span></b></p>
                <p><b>値積全大　<span id="highscore"></span></b></p>
            </font>
            <p>
                撃<b>撃裁</b>即　人力撃裁。撃<b>新裁</b>即　其値入行。
                <br>
                <b>二無即新</b>　使此遊銭。軸人撃裁　即手其値。
                <br>
                別而其値　無亦一即　失其値而　手無之値。
                <br>
                別而始時　人力再裁。無失値即　人力連撃。
                <br>
                周人同撃　即手其値。其値互戦　大値此善。
                <br>
                上行之人　須手銭銭。銭多奮叫　此道無善。
            </p>

</body>

</html>